---
- name: Install Starship
  hosts: localhost
  connection: local
  become: true
  gather_facts: false

  tasks:
    - name: Install expect
      ansible.builtin.package:
        name: expect
        state: present

    - name: Install Starship using expect
      ansible.builtin.expect:
        command: curl -sS https://starship.rs/install.sh | sh
        responses:
          Question:
            - y
